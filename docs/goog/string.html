<!doctype html><html><head><title>goog.string</title><link href="../stylesheet.css" rel="stylesheet" type="text/css"></head><body><a href="../index.html">Home</a><h1>Library goog.string</h1><table class="method-list"><tr><td colspan="2">Function Summary</td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>buildString(&lt;Any Type&gt; var_args) &#8658; string</code><br><p class="method-description">Concatenates string expressions. This is useful
since some browsers are very inefficient when it comes to using plus to
concat strings. Be careful when using null and undefined here since
these will not be included in the result. If you need to represent these
be sure to cast the argument to a String first.
For example:
<pre>buildString('a', 'b', 'c', 'd') -> 'abcd'
buildString(null, undefined) -> ''
</pre></p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>canonicalizeNewlines(string str) &#8658; string</code><br><p class="method-description">Replaces Windows and Mac new lines with unix style: \r or \r\n with \n.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>caseInsensitiveCompare(string str1, string str2) &#8658; number</code><br><p class="method-description">A string comparator that ignores case.
-1 = str1 less than str2
0 = str1 equals str2
1 = str1 greater than str2</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>caseInsensitiveEndsWith(string str, string suffix) &#8658; boolean</code><br><p class="method-description">Case-insensitive suffix-checker.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>caseInsensitiveStartsWith(string str, string prefix) &#8658; boolean</code><br><p class="method-description">Case-insensitive prefix-checker.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>collapseBreakingSpaces(string str) &#8658; string</code><br><p class="method-description">Removes the breaking spaces from the left and right of the string and
collapses the sequences of breaking spaces in the middle into single spaces.
The original and the result strings render the same way in HTML.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>collapseWhitespace(string str) &#8658; string</code><br><p class="method-description">Converts multiple whitespace chars (spaces, non-breaking-spaces, new lines
and tabs) to a single space, and strips leading and trailing whitespace.</p></td></tr><tr><td class="method-list-cell method-access method-private"></td><td class="method-list-cell method-cell"><code>compareElements_((boolean|number|string) left, (boolean|number|string) right) &#8658; number</code><br><p class="method-description">Compares elements of a version number.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>compareVersions((number|string) version1, (number|string) version2) &#8658; number</code><br><p class="method-description">Compares two version numbers.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>contains(string s, string ss) &#8658; boolean</code><br><p class="method-description">Checks whether a string contains a given character.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>countOf(string s, string ss) &#8658; number</code><br><p class="method-description">Returns the non-overlapping occurrences of ss in s.
If either s or ss evalutes to false, then returns zero.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>createUniqueString() &#8658; string</code><br><p class="method-description">Generates and returns a string which is unique in the current document.
This is useful, for example, to create unique IDs for DOM elements.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>endsWith(string str, string suffix) &#8658; boolean</code><br><p class="method-description">Fast suffix-checker.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>escapeChar(string c) &#8658; string</code><br><p class="method-description">Takes a character and returns the escaped string for that character. For
example escapeChar(String.fromCharCode(15)) -> "\\x0E".</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>escapeString(string str) &#8658; string</code><br><p class="method-description">Takes a string and returns the escaped string for that character.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>getRandomString() &#8658; string</code><br><p class="method-description">Returns a string with at least 64-bits of randomness.

Doesn't trust Javascript's random function entirely. Uses a combination of
random and current timestamp, and then encodes the string in base-36 to
make it shorter.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>hashCode(string str) &#8658; number</code><br><p class="method-description">String hash function similar to java.lang.String.hashCode().
The hash code for a string is computed as
s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],
where s[i] is the ith character of the string and n is the length of
the string. We mod the result to make it between 0 (inclusive) and 2^32
(exclusive).</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>htmlEscape(string str, boolean= opt_isLikelyToContainHtmlChars) &#8658; string</code><br><p class="method-description">Escape double quote '"' characters in addition to '&', '<', and '>' so that a
string can be included in an HTML tag attribute value within double quotes.

It should be noted that > doesn't need to be escaped for the HTML or XML to
be valid, but it has been decided to escape it for consistency with other
implementations.

NOTE(user):
HtmlEscape is often called during the generation of large blocks of HTML.
Using statics for the regular expressions and strings is an optimization
that can more than half the amount of time IE spends in this function for
large apps, since strings and regexes both contribute to GC allocations.

Testing for the presence of a character before escaping increases the number
of function calls, but actually provides a speed increase for the average
case -- since the average case often doesn't require the escaping of all 4
characters and indexOf() is much cheaper than replace().
The worst case does suffer slightly from the additional calls, therefore the
opt_isLikelyToContainHtmlChars option has been included for situations
where all 4 HTML entities are very likely to be present and need escaping.

Some benchmarks (times tended to fluctuate +-0.05ms):
FireFox                     IE6
(no chars / average (mix of cases) / all 4 chars)
no checks                     0.13 / 0.22 / 0.22         0.23 / 0.53 / 0.80
indexOf                       0.08 / 0.17 / 0.26         0.22 / 0.54 / 0.84
indexOf + re test             0.07 / 0.17 / 0.28         0.19 / 0.50 / 0.85

An additional advantage of checking if replace actually needs to be called
is a reduction in the number of object allocations, so as the size of the
application grows the difference between the various methods would increase.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isAlpha(string str) &#8658; boolean</code><br><p class="method-description">Checks if a string contains all letters.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isAlphaNumeric(string str) &#8658; boolean</code><br><p class="method-description">Checks if a string contains only numbers or letters.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isBreakingWhitespace(string str) &#8658; boolean</code><br><p class="method-description">Checks if a string is all breaking whitespace.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isEmpty(string str) &#8658; boolean</code><br><p class="method-description">Checks if a string is empty or contains only whitespaces.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isEmptySafe(&lt;Any Type&gt; str) &#8658; boolean</code><br><p class="method-description">Checks if a string is null, empty or contains only whitespaces.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isNumeric(&lt;Any Type&gt; str) &#8658; boolean</code><br><p class="method-description">Checks if a string contains only numbers.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isSpace(string ch) &#8658; boolean</code><br><p class="method-description">Checks if a character is a space character.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>isUnicodeChar(string ch) &#8658; boolean</code><br><p class="method-description">Checks if a character is a valid unicode character.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>makeSafe(&lt;Any Type&gt; obj) &#8658; string</code><br><p class="method-description">Returns a string representation of the given object, with
null and undefined being returned as the empty string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>newLineToBr(string str, boolean= opt_xml) &#8658; string</code><br><p class="method-description">Converts \n to <br>s or <br />s.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>normalizeSpaces(string str) &#8658; string</code><br><p class="method-description">Normalizes spaces in a string, replacing all consecutive spaces and tabs
with a single space. Replaces non-breaking space with a space.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>normalizeWhitespace(string str) &#8658; string</code><br><p class="method-description">Normalizes whitespace in a string, replacing all whitespace chars with
a space.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>numerateCompare(string str1, string str2) &#8658; number</code><br><p class="method-description">String comparison function that handles numbers in a way humans might expect.
Using this function, the string "File 2.jpg" sorts before "File 10.jpg". The
comparison is mostly case-insensitive, though strings that are identical
except for case are sorted with the upper-case strings before lower-case.

This comparison function is significantly slower (about 500x) than either
the default or the case-insensitive compare. It should not be used in
time-critical code, but should be fast enough to sort several hundred short
strings (like filenames) with a reasonable delay.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>padNumber(number num, number length, number= opt_precision) &#8658; string</code><br><p class="method-description">Pads number to given length and optionally rounds it to a given precision.
For example:
<pre>padNumber(1.25, 2, 3) -> '01.250'
padNumber(1.25, 2) -> '01.25'
padNumber(1.25, 2, 1) -> '01.3'
padNumber(1.25, 0) -> '1.25'</pre></p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>quote(string s) &#8658; string</code><br><p class="method-description">Encloses a string in double quotes and escapes characters so that the
string is a valid JS string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>regExpEscape(&lt;Any Type&gt; s) &#8658; string</code><br><p class="method-description">Escapes characters in the string that are not safe to use in a RegExp.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>remove(string s, string ss) &#8658; string</code><br><p class="method-description">Removes the first occurrence of a substring from a string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>removeAll(string s, string ss) &#8658; string</code><br><p class="method-description">Removes all occurrences of a substring from a string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>removeAt(string s, number index, number stringLength) &#8658; string</code><br><p class="method-description">Removes a substring of a specified length at a specific
index in a string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>repeat(string string, number length) &#8658; string</code><br><p class="method-description">Repeats a string n times.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>startsWith(string str, string prefix) &#8658; boolean</code><br><p class="method-description">Fast prefix-checker.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>stripNewlines(string str) &#8658; string</code><br><p class="method-description">Takes a string and replaces newlines with a space. Multiple lines are
replaced with a single space.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>stripQuotes(string str, string quoteChars) &#8658; string</code><br><p class="method-description">Strip quote characters around a string.  The second argument is a string of
characters to treat as quotes.  This can be a single character or a string of
multiple character and in that case each of those are treated as possible
quote characters. For example:

<pre>
goog.string.stripQuotes('"abc"', '"`') --> 'abc'
goog.string.stripQuotes('`abc`', '"`') --> 'abc'
</pre></p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>subs(string str, &lt;Any Type&gt; var_args) &#8658; string</code><br><p class="method-description">Does simple python-style string substitution.
subs("foo%s hot%s", "bar", "dog") becomes "foobar hotdog".</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>toCamelCase(string str) &#8658; string</code><br><p class="method-description">Converts a string from selector-case to camelCase (e.g. from
"multi-part-string" to "multiPartString"), useful for converting
CSS selectors and HTML dataset keys to their equivalent JS properties.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>toMap(string s) &#8658; ?Object</code><br><p class="method-description">Takes a string and creates a map (Object) in which the keys are the
characters in the string. The value for the key is set to true. You can
then use goog.object.map or goog.array.map to change the values.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>toNumber(string str) &#8658; number</code><br><p class="method-description">Converts the supplied string to a number, which may be Ininity or NaN.
This function strips whitespace: (toNumber(' 123') === 123)
This function accepts scientific notation: (toNumber('1e1') === 10)

This is better than Javascript's built-in conversions because, sadly:
(Number(' ') === 0) and (parseFloat('123a') === 123)</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>toSelectorCase(string str) &#8658; string</code><br><p class="method-description">Converts a string from camelCase to selector-case (e.g. from
"multiPartString" to "multi-part-string"), useful for converting JS
style and dataset properties to equivalent CSS selectors and HTML keys.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>trim(string str) &#8658; string</code><br><p class="method-description">Trims white spaces to the left and right of a string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>trimLeft(string str) &#8658; string</code><br><p class="method-description">Trims whitespaces at the left end of a string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>trimRight(string str) &#8658; string</code><br><p class="method-description">Trims whitespaces at the right end of a string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>truncate(string str, number chars, boolean= opt_protectEscapedCharacters) &#8658; string</code><br><p class="method-description">Truncates a string to a certain length and adds '...' if necessary.  The
length also accounts for the ellipsis, so a maximum length of 10 and a string
'Hello World!' produces 'Hello W...'.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>truncateMiddle(string str, number chars, boolean= opt_protectEscapedCharacters, number= opt_trailingChars) &#8658; string</code><br><p class="method-description">Truncate a string in the middle, adding "..." if necessary,
and favoring the beginning of the string.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>unescapeEntities(string str) &#8658; string</code><br><p class="method-description">Unescapes an HTML string.</p></td></tr><tr><td class="method-list-cell method-access method-private"></td><td class="method-list-cell method-cell"><code>unescapeEntitiesUsingDom_(string str) &#8658; string</code><br><p class="method-description">Unescapes an HTML string using a DOM to resolve non-XML, non-numeric
entities. This function is XSS-safe and whitespace-preserving.</p></td></tr><tr><td class="method-list-cell method-access method-private"></td><td class="method-list-cell method-cell"><code>unescapePureXmlEntities_(string str) &#8658; string</code><br><p class="method-description">Unescapes XML entities.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>urlDecode(string str) &#8658; string</code><br><p class="method-description">URL-decodes the string. We need to specially handle '+'s because
the javascript library doesn't convert them to spaces.</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>urlEncode(&lt;Any Type&gt; str) &#8658; string</code><br><p class="method-description">URL-encodes a string</p></td></tr><tr><td class="method-list-cell method-access method-public"></td><td class="method-list-cell method-cell"><code>whitespaceEscape(string str, boolean= opt_xml) &#8658; string</code><br><p class="method-description">Do escaping of whitespace to preserve spatial formatting. We use character
entity #160 to make it safer for xml.</p></td></tr></table></body></html>